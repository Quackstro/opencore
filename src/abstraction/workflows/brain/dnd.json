{
  "id": "brain-dnd",
  "plugin": "brain",
  "version": "1.0.0",
  "ttl": 120000,
  "entryPoint": "choose-action",
  "steps": {
    "choose-action": {
      "type": "choice",
      "content": "üîï Do Not Disturb\n\nManage DND mode:",
      "options": [
        {
          "id": "on",
          "label": "Enable DND"
        },
        {
          "id": "off",
          "label": "Disable DND"
        },
        {
          "id": "status",
          "label": "Check Status"
        }
      ],
      "transitions": {
        "on": "execute-on",
        "off": "execute-off",
        "status": "execute-status"
      }
    },
    "execute-on": {
      "type": "info",
      "content": "Enabling DND...",
      "toolCall": {
        "name": "brain_dnd",
        "paramMap": {
          "action": "on"
        },
        "onError": "error"
      },
      "next": "done-on"
    },
    "done-on": {
      "type": "info",
      "content": "üîï DND enabled. Brain notifications are silenced\n\n{{result}}",
      "terminal": true
    },
    "execute-off": {
      "type": "info",
      "content": "Disabling DND...",
      "toolCall": {
        "name": "brain_dnd",
        "paramMap": {
          "action": "off"
        },
        "onError": "error"
      },
      "next": "done-off"
    },
    "done-off": {
      "type": "info",
      "content": "üîî DND disabled. Brain notifications are active\n\n{{result}}",
      "terminal": true
    },
    "execute-status": {
      "type": "info",
      "content": "Checking DND status...",
      "toolCall": {
        "name": "brain_dnd",
        "paramMap": {
          "action": "status"
        },
        "onError": "error"
      },
      "next": "done-status"
    },
    "done-status": {
      "type": "info",
      "content": "üìä DND status shown above\n\n{{result}}",
      "terminal": true
    },
    "error": {
      "type": "choice",
      "content": "‚ùå DND operation failed.\n\n{{error}}\n\nWhat would you like to do?",
      "options": [
        {
          "id": "retry",
          "label": "üîÑ Retry",
          "style": "primary"
        },
        {
          "id": "cancel",
          "label": "‚ùå Cancel",
          "style": "danger"
        }
      ],
      "includeBack": false,
      "includeCancel": false,
      "transitions": {
        "retry": "execute-on",
        "cancel": "error-cancelled"
      }
    },
    "error-cancelled": {
      "type": "info",
      "content": "Operation cancelled.",
      "terminal": true
    }
  }
}
